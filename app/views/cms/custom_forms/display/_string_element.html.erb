<% errors_exist ||= false %>
<div class="field_container">
  <% element.load_element -%>
    <div class="fieldLabel">
        <label for="fieldLabel"><%=h element.label %></label>
    </div>
    <div class="fieldContent">
        <% builder = element.password == true ? :password_field_tag : :text_field_tag %>
        <%= send(builder, "custom_form[#{string_to_html_name(element.name)}]", element.default_value, :disabled => !!element.disabled, :class => element.classes) %>
        <% if errors_exist && flash["#{@portlet.instance_name}_errors"][element.name] -%>
          <span class="fieldErrors"><%= flash["#{@portlet.instance_name}_errors"][element.name].map {|e| e.message % element.name}.join(', ') %></span>
        <% end -%>
    </div>
</div>
